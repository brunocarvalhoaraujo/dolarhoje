<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Acompanhe as conta√ß√µes de das principais moedas do mundo em tempo real.">
    <meta name="keywords" content="Dolar hoje, BITCOIN, Cota√ß√£o, Convers√£o, melhores Moedas">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dolar Hoje</title>
    <link rel="shortcut icon" href="./img/dolar.png" type="image/x-icon">
</head>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Rubik+Pixels&family=Ubuntu:wght@400;500&display=swap');

    ::-webkit-scrollbar {
        width: 1px;
    }

    /* font-family: 'Ubuntu', sans-serif; */
    * {
        padding: 0px;
        margin: 0px;
        font-family: 'Ubuntu', sans-serif;
    }

    body {
        width: 100vw;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow-x: hidden;

    }

    @keyframes slider {
        0% {
            transform: translateX(20%);
        }

        50% {
            transform: translate(-100%);
        }

        100% {
            transform: translate(0%);
        }
    }
</style>

<body>
    <div class="box-conversao"
        style="width: 95%; max-width: 650px; display: flex; flex-direction: column; position: relative;">
        <!-- aqui vai o carrosel kk -->
        <div id="navMoedas" class="glider" style="display: flex; overflow-x: auto; overflow-wrap:normal;">
            <!-- reders moedas -->
        </div>

        <div class="box-logo-moeda"
            style=" width: 100%; display: flex; justify-content: center; align-items: center; margin-top: 50px; height: 140px;">
            <img id="fotoDaMoeda" src="./img/dolar.png" style="height: 130px; border-radius: 50%;"
                title="Nome da Moeda">
        </div>
        <div class="box-valores"
            style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin-top: 25px;">
            <div class="box-input-moeda"
                style="width: 100%; justify-content: center; align-items: center; display: flex; position: relative;">
                <label for="" id="labelDaMoeda"
                    style="background-color: #fff; position: absolute; top: 0px; left: 25px; padding-left: 10px; padding-right: 10px; color: #333; font-weight: bold;">
                    USD
                </label>
                <input id="moeda1" type="number" placeholder="insira um valor" value="1.00"
                    style="height: 38px; width: 100%; margin: 10px; border: 1px solid #333; 
                padding: 10px; font-size: 24px; outline: 0px none; border-radius: 3px; color: #333; text-align: end; font-weight: bold; background-color: transparent;">
            </div>
            <!-- aqui abaixo sempre vai ser o real -->
            <div class="box-input-real"
                style="width: 100%; justify-content: center; align-items: center; display: flex; position: relative;">
                <label for=""
                    style="background-color: #fff; position: absolute; top: 0px; left: 25px; padding-left: 10px; padding-right: 10px; color: #333; font-weight: bold;">
                    BRL
                </label>
                <input id="moeda2" type="number" placeholder="" value="..."
                    style="height: 38px; width: 100%; margin: 10px; border: 1px solid #333; 
                padding: 10px; font-size: 24px; outline: 0px none; border-radius: 3px; color: #333; text-align: end; font-weight: bold; background-color: transparent;">
            </div>
            <div class="divtxtmoeda" style="width: 95%; padding: 5px; display: flex;">
                <p id="descrMoeda" style="font-size: 14px;"></p>
                <p style="margin-left: 3px; border-radius: 5px; font-size: 14px; font-weight: bold;">hoje.</p>
            </div>
        </div>

        <!-- receba a contacao links das redes socialis -->
        <div class="box-recebacontacao" style="border: 1px solid #efecec; height: auto; border-radius: 3px; margin: 10px; margin-top: 50px;
                     position: relative; display: flex; flex-direction: column; padding: 10px; font-size: 12px;">
            <label for=""
                style="background-color: #fff; position: absolute; top: -15px; right: 15px; padding-left: 10px; padding-right: 10px; color: #333; font-size: 16px;">
                Receba as cota√ß√µes :
            </label>

            <div class="box-redes-socialis" style="display: flex;">
                <div class="redesocial"
                    style="width: 35px; height: 35px; display: flex; justify-content: center; align-items: center; cursor: pointer;"
                    title="Telegram">
                    <img src="./img/telegram.png" alt="" style="height: 30px;">
                </div>
                <div class="redesocial"
                    style="width: 35px; height: 35px; display: flex; justify-content: center; align-items: center; cursor: pointer;"
                    title="WhatsApp">
                    <img src="./img/whats.png" alt="" style="height: 30px;">
                </div>
            </div>
        </div>





        <!-- grafico charts -->
        <div class="box-recebacontacao" style="border: 1px solid #efecec; height: auto; border-radius: 3px; margin: 10px; margin-top: 50px;
                     position: relative; display: flex; flex-direction: column; padding: 10px; font-size: 12px;">
            <label for=""
                style="background-color: #fff; position: absolute; top: -15px; right: 15px; padding-left: 10px; padding-right: 10px; color: #333; font-size: 16px;">
                Gr√°fico :
            </label>
            <div class="box-charts">
                <canvas id="myChart" style="width: 100%; max-height: 280px;"> </canvas>

            </div>
        </div>





        <div class="box-resumo" style="border: 1px solid #efecec; height: auto; border-radius: 3px; margin: 10px; margin-top: 30px;
                     position: relative; display: flex; flex-direction: column; padding: 30px; font-size: 12px;">
            <label for=""
                style="background-color: #fff; position: absolute; top: -15px; right: 15px; padding-left: 10px; padding-right: 10px; color: #333; font-size: 16px;">
                Sobre:
            </label>
            <br>
            <h1 style="font-size: 18px;">O D√≥lar Americano (USD)</h1>
            <br>
            <p>O d√≥lar americano (USD) √© a moeda oficial dos Estados Unidos e uma das principais moedas de reserva
                global. Emitido pela Reserva Federal dos EUA, o d√≥lar desempenha um papel fundamental nos mercados
                financeiros internacionais e no com√©rcio internacional. Sua sigla √© USD, e √© comumente representado pelo
                s√≠mbolo "$". O valor do d√≥lar √© influenciado por diversos fatores, incluindo taxas de juros, condi√ß√µes
                econ√¥micas dos EUA, pol√≠ticas governamentais e eventos globais.</p>
            <br>

            <p>Al√©m de ser a moeda oficial nos Estados Unidos, o d√≥lar √© amplamente aceito em transa√ß√µes internacionais
                e √© utilizado como a principal moeda de reserva em muitos pa√≠ses. Isso significa que muitas na√ß√µes
                mant√™m reservas significativas em d√≥lares para garantir estabilidade financeira e facilitar o com√©rcio
                internacional.</p>
            <br>
            <p>O d√≥lar tamb√©m √© conhecido por sua divis√£o em centavos, com moedas de 1 centavo (penny), 5 centavos
                (nickel), 10 centavos (dime), 25 centavos (quarter) e notas de diversos valores, incluindo 1, 5, 10, 20,
                50 e 100 d√≥lares.</p>
            <br>
            <p>A taxa de c√¢mbio do d√≥lar em rela√ß√£o a outras moedas √© uma medida importante, influenciando os pre√ßos de
                bens e servi√ßos globais, bem como o desempenho econ√¥mico de diferentes pa√≠ses. Movimentos no mercado de
                c√¢mbio podem ser impactados por eventos geopol√≠ticos, indicadores econ√¥micos e decis√µes de pol√≠tica
                monet√°ria.</p>

            <br>    
            <p><strong> Top 10 Curiosidades sobre o D√≥lar</strong></p>
            <br>
            <a href="../top-10-curiosidades/usd.html">Saiba Mais</a>

        </div>




        <div class="box-link-outras-moedas" style="border: 1px solid #efecec; height: auto; border-radius: 3px; margin: 10px; margin-top: 30px; margin-bottom: 50px;
        position: relative; display: flex; flex-direction: column; padding: 10px; padding-top: 30px; font-size: 12px;">
            <label for=""
                style="background-color: #fff; position: absolute; top: -15px; right: 15px; padding-left: 10px; padding-right: 10px; color: #333; font-size: 16px;">
                Outras Moedas:
            </label>

            <div id="renderoutrasmoedas" class="box-render-moedas"
                style="display: flex; flex-wrap: wrap; justify-content: center;">

                <!-- <div class="moeda"
                    style=" border: 1px solid #efecec; margin: 5px; cursor: pointer; display: flex; justify-content: start; align-items: center; width: 100px; border-radius: 3px; padding: 3px;">
                    <div class="boximg">
                        <img src="./icon-moedas/BTC.png" alt="" style="height: 30px;">
                    </div>
                    <div class="box-sigla" style="margin-left: 5px;">
                        <p>BITCOIN</p>
                    </div>
                </div>

                <div class="moeda"
                    style=" border: 1px solid #efecec; margin: 5px;  cursor: pointer; display: flex; justify-content: start; align-items: center; width: 100px; border-radius: 3px; padding: 3px;">
                    <div class="boximg">
                        <img src="./icon-moedas/ETH.png" alt="" style="height: 30px;">
                    </div>
                    <div class="box-sigla" style="margin-left: 5px;">
                        <p>ETHEREUM</p>
                    </div>
                </div>


                <div class="moeda"
                    style=" border: 1px solid #efecec; margin: 5px;  cursor: pointer; display: flex; justify-content: start; align-items: center; width: 100px; border-radius: 3px; padding: 3px;">
                    <div class="boximg">
                        <img src="./icon-moedas/LTC.png" alt="" style="height: 30px;">
                    </div>
                    <div class="box-sigla" style="margin-left: 5px;">
                        <p>LIGTH COIN</p>
                    </div>
                </div> -->
            </div>
        </div>

        <!--  -->
        <!-- 
        <div class="box-me" style=" width: 100%; margin-top: 90px; filter: grayscale(1); border-bottom: none;
         border-radius: 5px 5px 0 0; padding-top: 5px; padding-bottom: 5px; position: absolute; bottom: 10px;">
            <a target="_blank" href="https://github.com/brcaraujo"
                style="text-decoration: none; display: flex; justify-content: center; align-items: center;">
                <img src="./img/icone-github-grise.png" alt=""
                    style="height: 20px; border-radius: 50%; margin-top: 2px;">
                <p style="font-size: 13px; text-decoration: none; margin-left: 5px; color:#999;">
                    Bruno o Dev &#128126;</p>
            </a>
        </div> -->
        <center>
            <a href="https://beta.publishers.adsterra.com/referral/faS3i3rhTu"><img alt="banner"
                    src="https://landings-cdn.adsterratech.com/referralBanners/gif/120x60_adsterra_reff.gif" /></a>
            <br>
            <div class="rodape" style="width: 100%; margin-bottom: 15px;">
                <p style="font-size: 10px;">&copy; 2024 Dolar1. Todos os direitos reservados.</p>
                <p style="font-size: 10px; font-weight: bold;">Por Bruno o DEV üëæ</p>
            </div>
        </center>

    </div>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<script>

    function initChart(moedaEX) {
        let ajax = new XMLHttpRequest();
        ajax.open('GET', `https://economia.awesomeapi.com.br/json/daily/${moedaEX}-BRL/30`);
        ajax.onreadystatechange = () => {
            if (ajax.readyState == 4 && ajax.status == 200) {
                let resposta = JSON.parse(ajax.response);

                //valor de x e y tratados
                let valuesX = [];
                let valuesY = [];
                resposta.forEach((key) => {
                    valuesX.push(key.ask)
                    valuesY.push(new Date(key.timestamp * 1000).toLocaleDateString('pt-BR'))
                });


                //gerando o chart
                new Chart("myChart", {
                    type: "line",
                    data: {
                        labels: valuesY,
                        datasets: [{
                            backgroundColor: "rgba(239, 208, 114, 0.5)",
                            borderColor: "rgba(239, 208, 114)",
                            data: valuesX
                        }]
                    },
                    options: {
                    }
                });
            }
        }
        ajax.send();
    }

</script>
<script>
    //aqui pego o hash para usar com minhas chamadas ajax..
    let urlHash = window.location.hash.replace('#', '');
    if (urlHash == "") {
        urlHash = 'USD';
        window.location.href = './#USD';
    }

    console.log(urlHash);

    let navMoedas = document.getElementById('navMoedas');
    let renderoutrasmoedas = document.getElementById('renderoutrasmoedas');

    let inputMoeda1 = document.getElementById('moeda1');
    let inputMoeda2 = document.getElementById('moeda2');



    inputMoeda1.addEventListener('input', () => {
        if (inputMoeda1.value == "") {
            atualizaValores(1);
            inputMoeda1.value = "";
            return;
        }
        atualizaValores(inputMoeda1.value, urlHash);
    })


    function atualizaValores(reais, moedaEX) {
        let ajax = new XMLHttpRequest();
        ajax.open('GET', `https://economia.awesomeapi.com.br/last/${moedaEX}-BRL`);
        ajax.onreadystatechange = () => {
            if (ajax.readyState == 4 && ajax.status == 200) {
                let resposta = JSON.parse(ajax.response);
                let totalMoedaExtrangeira = parseFloat(reais) * resposta[moedaEX + 'BRL'].ask;
                inputMoeda2.value = totalMoedaExtrangeira.toFixed(2);

                document.getElementById('descrMoeda').innerHTML = reais+" "+resposta[moedaEX + 'BRL'].name.replace('/Real Brasileiro', '')+" vale R$ "+totalMoedaExtrangeira.toFixed(2);;
            }
        }
        ajax.send();
    }

    atualizaValores(1, urlHash);




    function atualizaValoresNav() {
        let ajax = new XMLHttpRequest();
        ajax.open('GET', 'https://economia.awesomeapi.com.br/json/last/USD-BRL,EUR-BRL,CHF-BRL,RUB-BRL,BTC-BRL,ETH-BRL,LTC-BRL,XRP-BRL');
        ajax.onreadystatechange = () => {
            if (ajax.readyState == 4 && ajax.status == 200) {
                let resposta = JSON.parse(ajax.response);
                console.log(resposta);
                Object.keys(resposta).forEach((key) => {
                    console.log(resposta[key].code);

                    navMoedas.innerHTML += templateMoedaSlider(resposta[key].code, resposta[key].ask, resposta[key].code, resposta[key].varBid, resposta[key].pctChange, resposta[key].name);
                    renderoutrasmoedas.innerHTML += templateMoeda(resposta[key].code, resposta[key].ask, resposta[key].code, resposta[key].varBid, resposta[key].pctChange, resposta[key].name);
                });

                Object.keys(resposta).forEach((key) => {
                    console.log(resposta[key].code);
                    navMoedas.innerHTML += templateMoedaSlider(resposta[key].code, resposta[key].ask, resposta[key].code, resposta[key].varBid, resposta[key].pctChange, resposta[key].name);
                });
            }
        }
        ajax.send();
    }
    atualizaValoresNav();



    function templateMoedaSlider(img, valor, sigla, updown, pctChange, name) {
        return (`
                <div title="${name}" onclick="window.location='./#${sigla}', window.location.reload()" class="moeda"
                    style=" border: 1px solid #efecec; margin: 5px;  cursor: pointer; display: flex; justify-content: start; align-items: center; min-width: 120px; border-radius: 3px; padding: 3px; position: relative; animation: 4s slider linear;">
                    <p style="font-size: 8px; position: absolute; top: 5px; right: 5px; color: ${updown > 0 ? "#3A9811" : "red"}"> ${pctChange} %</p>
                    <div class="var-bird" style="position: absolute; bottom: 5px; right: 4px">
                        <img src="./img/${updown > 0 ? "up.png" : "down.png"}" alt="" style="height: 6px; animation: updown 1s infinite;">
                        <style>
                            @keyframes updown {
                                0%{
                                    transform: scale(1.2);
                                }
                                100%{
                                    transform: scale(1.1);
                                }
                            }
                        </style>
                    </div>

                    <div class="boximg" style="justify-content: center; align-items: center; display: flex;">
                        <img src="./icon-moedas/${img}.png" alt="" style="height: 35px;">
                    </div>
                    <div class="box-sigla" style="margin-left: 5px;">
                        <p style="font-size: 12px; font-weight: bold;">${sigla}</p>
                        <p style="font-size: 12px; color:${updown > 0 ? "#3A9811" : "red"}"> R$ ${valor}</p>
                    </div>
                </div>
        `);
    }


    function templateMoeda(img, valor, sigla, updown, pctChange, name) {
        return (`
                <div title="${name}" onclick="window.location='./#${sigla}', window.location.reload()" class="moeda"
                    style=" border: 1px solid #efecec; margin: 5px;  cursor: pointer; display: flex; justify-content: start; align-items: center; min-width: 120px; border-radius: 3px; padding: 3px; position: relative;">
                    <p style="font-size: 8px; position: absolute; top: 5px; right: 5px; color: ${updown > 0 ? "#3A9811" : "red"}"> ${pctChange} %</p>
                    <div class="var-bird" style="position: absolute; bottom: 5px; right: 4px">
                        <img src="./img/${updown > 0 ? "up.png" : "down.png"}" alt="" style="height: 6px; animation: updown 1s infinite;">
                        <style>
                            @keyframes updown {
                                0%{
                                    transform: scale(1.2);
                                }
                                100%{
                                    transform: scale(1.1);
                                }
                            }
                        </style>
                    </div>

                    <div class="boximg" style="justify-content: center; align-items: center; display: flex;">
                        <img src="./icon-moedas/${img}.png" alt="" style="height: 35px;">
                    </div>
                    <div class="box-sigla" style="margin-left: 5px;">
                        <p style="font-size: 12px; font-weight: bold;">${sigla}</p>
                        <p style="font-size: 12px; color:${updown > 0 ? "#3A9811" : "red"}"> R$ ${valor}</p>
                    </div>
                </div>
        `);
    }



    function loadPageHashMoeda(sigla) {
        let fotoDaMoeda = document.getElementById('fotoDaMoeda');
        let labelDaMoeda = document.getElementById('labelDaMoeda');
        fotoDaMoeda.setAttribute('src', './icon-moedas/' + sigla + '.png');
        labelDaMoeda.innerText = sigla;

        initChart(sigla);
    }
    window.addEventListener('load', loadPageHashMoeda(urlHash));


</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BS9SKJF6EV"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-BS9SKJF6EV');
</script>


</html>